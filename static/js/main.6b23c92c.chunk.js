(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,n){e.exports=n.p+"static/media/newIcon.1c04c2a9.svg"},137:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),c=n.n(o),s=(n(90),n(13)),u=n(14),i=n(16),l=n(15),p=n(17),f=n(3),h=n.n(f),d=n(7),m=n(22),v={Get_POSTS:"Get_POSTS",Get_POSTS_BY_USER:"Get_POSTS_BY_USER",GET_USER:"GET_USER",GET_USER_FOLLOWE_ON:"GET_USER_FOLLOWE_ON",GET_FOLLOWERS_OF_USER:"GET_FOLLOWERS_OF_USER"},b=n(25),w=n.n(b),g={signUp:function(e){return O.apply(this,arguments)},logIn:function(e){return E.apply(this,arguments)},logOut:function(){localStorage.clear()},getLoggedinUser:function(){return k("user")?k("user"):null}};function E(){return(E=Object(d.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post(y("login"),t);case 3:return x("user",(n=e.sent).data),e.abrupt("return",n.status);case 8:if(e.prev=8,e.t0=e.catch(0),200===e.t0.response.status){e.next=12;break}return e.abrupt("return",e.t0.response.status);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function O(){return(O=Object(d.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post(y("register"),t);case 3:return n=e.sent,e.abrupt("return",n.status);case 7:if(e.prev=7,e.t0=e.catch(0),200===e.t0.response.status){e.next=11;break}return e.abrupt("return",e.t0.response.status);case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://moonsite-rn-test.herokuapp.com/api/usr/".concat(e)}function x(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}function k(e){return JSON.parse(localStorage.getItem(e))}var j={addFollower:function(e){return S.apply(this,arguments)},getFollowersOfUser:function(){return U.apply(this,arguments)},getUserFollowOn:function(){return _.apply(this,arguments)}};function S(){return(S=Object(d.a)(h.a.mark(function e(t){var n,r,a,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.getLoggedinUser(),r=n.data.token,a={f_user_id:t},e.prev=3,e.next=6,w.a.post(R("add-follower"),a,{headers:{Authorization:"".concat(r)}});case 6:if("unauthorized"!==(o=e.sent)){e.next=9;break}throw new Error("unauthorized");case 9:if(!o.res){e.next=11;break}return e.abrupt("return",o.data);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(3),e.t0;case 16:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function U(){return(U=Object(d.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.getLoggedinUser(),n=t.data.token,e.prev=2,e.next=5,w.a.get(R("get-my-followers"),{headers:{Authorization:"".concat(n)}});case 5:if("unauthorized"!==(r=e.sent)){e.next=8;break}throw new Error("unauthorized");case 8:if(!0!==r.data.res){e.next=10;break}return e.abrupt("return",r.data.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function _(){return(_=Object(d.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.getLoggedinUser(),n=t.data.token,e.prev=2,e.next=5,w.a.get(R("get-followers-by-user-id"),{headers:{Authorization:"".concat(n)}});case 5:if("unauthorized"!==(r=e.sent)){e.next=8;break}throw new Error("unauthorized");case 8:if(!0!==r.data.res){e.next=10;break}return e.abrupt("return",r.data.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://moonsite-rn-test.herokuapp.com/api/follower/".concat(e)}var L=function(e){return function(){var t=Object(d.a)(h.a.mark(function t(n){var r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.addFollower(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},C=function(){return function(){var e=Object(d.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getLoggedinUser();case 2:n=e.sent,t({type:v.GET_USER,data:n});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(d.a)(h.a.mark(function t(n){var r,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.signUp(e);case 3:if(200===(r=t.sent)){t.next=6;break}return t.abrupt("return",r);case 6:return a=g.getLoggedinUser(),n({type:v.GET_USER,data:a}),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(d.a)(h.a.mark(function t(n){var r,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.logIn(e);case 3:if(200===(r=t.sent)){t.next=6;break}return t.abrupt("return",r);case 6:return a=g.getLoggedinUser(),n({type:v.GET_USER,data:a}),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},N=function(){return function(e){g.logOut();var t=g.getLoggedinUser();e({type:v.GET_USER,data:t})}},G=n(143),F=n(144),A=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,t(C());case 3:if(null!==this.props.user){e.next=8;break}this.props.history.push("/signup"),e.next=18;break;case 8:return e.prev=8,e.next=11,t(function(){var e=Object(d.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.getUserFollowOn();case 3:n=e.sent,t({type:v.GET_USER_FOLLOWE_ON,data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}());case 11:return e.next=13,t(function(){var e=Object(d.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.getFollowersOfUser();case 3:n=e.sent,t({type:v.GET_FOLLOWERS_OF_USER,data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}());case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log("ERROR");case 18:case"end":return e.stop()}},e,this,[[8,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.userFollowOn,t=this.props.followersOfUser;return a.a.createElement("section",{className:"follow-list"},e&&a.a.createElement("div",{className:"follow-on-user"},a.a.createElement("h1",null,a.a.createElement(G.a,{className:"badgeTitle",variant:"secondary"},"You follow on(",e.length,")")),a.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},a.a.createElement("thead",{title:"You follow on"},a.a.createElement("tr",null,a.a.createElement("th",null,"User Id"),a.a.createElement("th",null,"Email"))),a.a.createElement("tbody",null,e.length>1&&a.a.createElement("tr",null,a.a.createElement("td",null,e[0].f_user_id),a.a.createElement("td",null,e[0].email)),e.length<1&&a.a.createElement("tr",null,a.a.createElement("td",null),a.a.createElement("td",null))))),t&&a.a.createElement("div",{className:"user-follow-on"},a.a.createElement("h1",null,a.a.createElement(G.a,{className:"badgeTitle",variant:"secondary"},"Your followers(",t.length,")")),a.a.createElement(F.a,{striped:!0,bordered:!0,hover:!0},a.a.createElement("thead",{title:"Following you"},a.a.createElement("tr",null,a.a.createElement("th",null,"User Id"),a.a.createElement("th",null,"Email"))),a.a.createElement("tbody",null,t.map(function(e){return a.a.createElement("tr",{key:e.f_user_id},a.a.createElement("td",null,e.f_user_id),a.a.createElement("td",null,e.email))})))))}}]),t}(r.Component),I=Object(m.b)(function(e){var t=e.userReducer,n=e.followReducer;return{user:t.user,followersOfUser:n.followersOfUser,userFollowOn:n.userFollowOn}})(A),z=n(28),W=n(11),B={query:function(){return D.apply(this,arguments)},addPost:function(e){return Y.apply(this,arguments)},deletePost:function(e){return M.apply(this,arguments)},getUserPosts:function(){return q.apply(this,arguments)}};function D(){return(D=Object(d.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.getLoggedinUser(),n=t.data.token,e.prev=2,e.next=5,w.a.get(J("get-all-posts"),{headers:{Authorization:"".concat(n)}});case 5:if("unauthorized"!==(r=e.sent)){e.next=8;break}throw new Error("unauthorized");case 8:if(!0!==r.data.res){e.next=10;break}return e.abrupt("return",r.data.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function Y(){return(Y=Object(d.a)(h.a.mark(function e(t){var n,r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.getLoggedinUser(),r=n.data.token,e.prev=2,e.next=5,w.a.post(J("add-post"),t,{headers:{Authorization:"".concat(r)}});case 5:return a=e.sent,e.abrupt("return",a.status);case 9:if(e.prev=9,e.t0=e.catch(2),200===e.t0.response.status){e.next=13;break}return e.abrupt("return",e.t0.response.status);case 13:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function M(){return(M=Object(d.a)(h.a.mark(function e(t){var n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.getLoggedinUser(),r=n.data.token,e.prev=2,e.next=5,w.a.delete(J("delete-post-by-id/".concat(t)),{headers:{Authorization:"".concat(r)}});case 5:if(!0!==e.sent.res){e.next=8;break}return e.abrupt("return",!0);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])}))).apply(this,arguments)}function q(){return(q=Object(d.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.getLoggedinUser(),n=t.data.token,e.prev=2,e.next=5,w.a.get(J("/post/get-posts-by-user-id"),{headers:{Authorization:"".concat(n)}});case 5:if("unauthorized"!==(r=e.sent)){e.next=8;break}throw new Error("unauthorized");case 8:if(!0!==r.res){e.next=10;break}return e.abrupt("return",r.data);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://moonsite-rn-test.herokuapp.com/api/post/".concat(e)}var H=function(e){return function(){var t=Object(d.a)(h.a.mark(function t(n){var r,a;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.query();case 3:r=t.sent,a=r.filter(function(t){return t.title.includes(e.title)}),n({type:v.Get_POSTS,data:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},$=function(){return function(){var e=Object(d.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.query();case 3:n=e.sent,t({type:v.Get_POSTS,data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},K=function(e){return Object(d.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.deletePost(e);case 3:$(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}))},Q=function(e){return console.log(e),Object(d.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.addPost(e);case 3:$(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}))},V=n(149),X=n(76),Z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).followUser=function(){n.props.followUser(n.props.post.user_id)},n.deletePost=function(){n.props.deletePost(n.props.post.post_id)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.user;return a.a.createElement(V.a,{style:{width:"19rem",height:"20rem"}},a.a.createElement(V.a.Img,{variant:"top",src:t.image_url}),a.a.createElement(V.a.Body,null,a.a.createElement(V.a.Title,null,t.title),n.data.user_id!==t.user_id&&a.a.createElement(X.a,{onClick:this.followUser,title:"Follow",variant:"primary"},"Follow user number ",t.user_id),n.data.user_id===t.user_id&&a.a.createElement(X.a,{onClick:this.deletePost,title:"Delete",variant:"danger"},a.a.createElement("span",{role:"img"},"\ud83d\uddd1\ufe0f"))))}}]),t}(r.Component),ee=n(21),te=(n(42),function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={filterBy:{title:""}},n.deletePost=function(){var e=Object(d.a)(h.a.mark(function e(t){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.dispatch,e.next=3,r(K(t));case 3:return e.next=5,r($());case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.followUser=function(){var e=Object(d.a)(h.a.mark(function e(t){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.dispatch,e.prev=1,e.next=4,r(L(t));case 4:if(200!==e.sent){e.next=9;break}n.notify("You follow user"),e.next=10;break;case 9:throw new Error("Cannot make following");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n.notify("Cannot make following");case 15:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),n.handleSearch=function(){var e=Object(d.a)(h.a.mark(function e(t){var r,a,o,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,a=r.value,o=r.name,e.next=3,n.setState(function(e){return{filterBy:Object(W.a)({},e.newUser,Object(z.a)({},o,a))}});case 3:return c=n.props.dispatch,e.next=6,c(H(n.state.filterBy));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.notify=function(e){return Object(ee.b)(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.prev=1,e.next=4,t(C());case 4:if(null!==this.props.user){e.next=9;break}this.props.history.push("/signup"),e.next=11;break;case 9:return e.next=11,t($());case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(1);case 15:case"end":return e.stop()}},e,this,[[1,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.posts,o=this.state.filterBy;return a.a.createElement("div",{className:"feed"},a.a.createElement(ee.a,null),null!==r&&null!==n&&a.a.createElement("input",{className:"titleInput",type:"text",name:"title",value:o.title,onChange:this.handleSearch,placeholder:"Search posts by title"}),null!==r&&null!==n&&a.a.createElement("div",{className:"posts-container"},r.map(function(t){return a.a.createElement(Z,{deletePost:e.deletePost,followUser:e.followUser,user:n,post:t,key:t.post_id})})))}}]),t}(r.Component)),ne=Object(m.b)(function(e){var t=e.userReducer,n=e.postsReducer;return{user:t.user,posts:n.posts}})(te),re=n(145),ae=n(148),oe=n(147),ce=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).handleLogOut=Object(d.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.dispatch,e.next=3,t(N());case 3:case"end":return e.stop()}},e)})),n.notify=function(e){return Object(ee.b)(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,t(C());case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"header"},a.a.createElement(ee.a,null),a.a.createElement(re.a,{bg:"light",expand:"lg"},a.a.createElement(re.a.Brand,{href:"#/"},a.a.createElement("img",{width:"50px",height:"50px",alt:"logo",src:n(121)})," Social React"),a.a.createElement(re.a.Toggle,{"aria-controls":"basic-navbar-nav"}),a.a.createElement(re.a.Collapse,{id:"basic-navbar-nav"},a.a.createElement(ae.a,{className:"mr-auto"},a.a.createElement(ae.a.Link,{href:"#/"},"Feed"),a.a.createElement(ae.a.Link,{href:"#followers"},"Followers"),null!==this.props.user&&a.a.createElement(oe.a,{title:this.props.user.data.email,id:"basic-nav-dropdown"},a.a.createElement(oe.a.Item,{href:"#addpost"},"Add Post"),a.a.createElement(oe.a.Item,{onClick:this.handleLogOut,href:"/"},"Log out"))))))}}]),t}(r.Component),se=Object(m.b)(function(e){return{user:e.userReducer.user}})(ce),ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={postToUpload:{title:"",image_url:""}},n.handleChange=function(e){var t=e.target,r=t.value,a=t.name;n.setState(function(e){return{postToUpload:Object(W.a)({},e.postToUpload,Object(z.a)({},a,r))}})},n.handleSubmit=function(){var e=Object(d.a)(h.a.mark(function e(t){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.props.dispatch,e.next=4,r(Q(n.state.postToUpload));case 4:n.props.history.push("/");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.handleImageChange=function(){var e=Object(d.a)(h.a.mark(function e(t){var r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(r=t.target.files[0]).size>26e3&&(n.refs.image.value="",n.notify("The file is too big, upload another one")),(a=new FileReader).readAsDataURL(r),a.onloadend=function(){n.setState(function(e){return{postToUpload:Object(W.a)({},e.postToUpload,{image_url:a.result})}})};case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.notify=function(e){return Object(ee.b)(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.prev=1,e.next=4,t(C());case 4:null!==this.props.user&&this.props.user||this.props.history.push("/signup"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.postToUpload;return a.a.createElement("div",{className:"post-details"},a.a.createElement(ee.a,null),a.a.createElement("h1",{className:"titlePost"},a.a.createElement(G.a,{className:"badgeTitle",variant:"secondary"},"publish your own post")),a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("input",{className:"titleInput",type:"text",name:"title",onChange:this.handleChange,value:e.title,placeholder:"Post title",required:!0}),a.a.createElement("input",{ref:"image",className:"fileInput",accept:"image/png, image/jpeg",required:!0,type:"file",onChange:this.handleImageChange}),a.a.createElement("button",{className:"postBtn"},"POST")))}}]),t}(r.Component),ie=Object(m.b)(function(e){var t=e.postsReducer,n=e.userReducer;return{posts:t.posts,user:n.user}})(ue),le=n(146),pe=n(38),fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={newUser:{password:"",email:""}},n.handleChange=function(e){var t=e.target,r=t.value,a=t.name;n.setState(function(e){return{newUser:Object(W.a)({},e.newUser,Object(z.a)({},a,r))}})},n.handleSubmit=function(){var e=Object(d.a)(h.a.mark(function e(t){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.props.dispatch,e.prev=2,e.next=5,r(T(n.state.newUser));case 5:if(200!==e.sent){e.next=11;break}n.props.history.push("/login"),e.next=12;break;case 11:throw new Error("Cannot signup");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.notify("Cannot do sign up, Email or Password are incorrect, please try again");case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),n.notify=function(e){return Object(ee.b)(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,t(C());case 3:null!==this.props.user&&this.props.history.push("/");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.newUser;return a.a.createElement("div",{className:"signup"},a.a.createElement(ee.a,null),a.a.createElement("div",{className:"signup-container"},a.a.createElement("h1",null,a.a.createElement(G.a,{className:"badgeTitle",variant:"secondary"},"Need to sign up")),a.a.createElement(le.a,{onSubmit:this.handleSubmit},a.a.createElement(le.a.Group,{controlId:"formGroupEmail"},a.a.createElement(le.a.Label,null,"Email address"),a.a.createElement(le.a.Control,{name:"email",value:e.email,onChange:this.handleChange,type:"email",placeholder:"Enter email"})),a.a.createElement(le.a.Group,{controlId:"formGroupPassword"},a.a.createElement(le.a.Label,null,"Password"),a.a.createElement(le.a.Control,{name:"password",value:e.password,onChange:this.handleChange,type:"password",placeholder:"Password"})),a.a.createElement("button",null,"Sign up")),a.a.createElement(pe.b,{exact:!0,to:"/login"},"Have an account?")))}}]),t}(r.Component),he=Object(m.b)(function(e){return{user:e.userReducer.user}})(fe),de=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={user:{password:"",email:""}},n.handleChange=function(e){var t=e.target,r=t.value,a=t.name;n.setState(function(e){return{user:Object(W.a)({},e.user,Object(z.a)({},a,r))}})},n.handleSubmit=function(){var e=Object(d.a)(h.a.mark(function e(t){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.props.dispatch,e.prev=2,e.next=5,r(P(n.state.user));case 5:if(200!==e.sent){e.next=11;break}n.props.history.push("/"),e.next=12;break;case 11:throw new Error("Cannot login");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.notify("Email or Password are incorrect, please try again");case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),n.notify=function(e){return Object(ee.b)(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user;return a.a.createElement("div",{className:"login"},a.a.createElement(ee.a,null),a.a.createElement("div",{className:"login-container"},a.a.createElement("h1",null,a.a.createElement(G.a,{className:"badgeTitle",variant:"secondary"},"Welcome")),a.a.createElement(le.a,{onSubmit:this.handleSubmit},a.a.createElement(le.a.Group,{controlId:"formGroupEmail"},a.a.createElement(le.a.Label,null,"Email address"),a.a.createElement(le.a.Control,{name:"email",value:e.email,onChange:this.handleChange,type:"email",placeholder:"Enter email"})),a.a.createElement(le.a.Group,{controlId:"formGroupPassword"},a.a.createElement(le.a.Label,null,"Password"),a.a.createElement(le.a.Control,{name:"password",value:e.password,onChange:this.handleChange,type:"password",placeholder:"Password"})),a.a.createElement("button",null,"Login"))),a.a.createElement(pe.b,{exact:!0,to:"/signup"},"Return to sign up"))}}]),t}(r.Component),me=Object(m.b)(function(e){return{user:e.userReducer.user}})(de),ve=n(33),be=(n(137),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(pe.a,null,a.a.createElement(se,null),a.a.createElement(ve.c,null,a.a.createElement(ve.a,{path:"/",exact:!0,component:ne}),a.a.createElement(ve.a,{path:"/followers",component:I}),a.a.createElement(ve.a,{path:"/signup",component:he}),a.a.createElement(ve.a,{path:"/login",component:me}),a.a.createElement(ve.a,{path:"/addpost",component:ie}))))}}]),t}(r.Component)),we=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ee=n(84),Oe=(n(138),n(139),n(35));var ye=Object(Oe.c)({postsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:null,userPost:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.Get_POSTS:return Object(W.a)({},e,{posts:t.data});case v.Get_POSTS_BY_USER:return Object(W.a)({},e,{userPost:t.data});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_USER:return Object(W.a)({},e,{user:t.data});default:return e}},followReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{followersOfUser:null,userFollowOn:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_FOLLOWERS_OF_USER:return Object(W.a)({},e,{followersOfUser:t.data});case v.GET_USER_FOLLOWE_ON:return Object(W.a)({},e,{userFollowOn:t.data});default:return e}}}),xe=[Ee.a];var ke=Object(Oe.d)(ye,Oe.a.apply(void 0,xe));c.a.render(a.a.createElement(m.a,{store:ke},a.a.createElement(be,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Social-React",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Social-React","/service-worker.js");we?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ge(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ge(t,e)})}}(),window.addEventListener("beforeinstallprompt",function(e){console.log("beforeinstallprompt event has fired"),e.prompt()})},85:function(e,t,n){e.exports=n(140)},90:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.6b23c92c.chunk.js.map